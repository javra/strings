{-# OPTIONS --prop --rewriting --allow-unsolved-metas #-}

open import Diags
open import Identities

puzzle : D 2 0
puzzle = (∣n · (2 >A ∩ < 0)
            · (1 >A / < 1)
            · (0 >A / < 2)
            · (0 >A / < 2))
            • (2 > /⁻¹ < 0)
            · (1 >A R < 1)
            · (0 >A ∪ < 2)
            · (0 >A ∪ < 0)

solution : puzzle ~ ∣n · (0 >A ∪ < 0) · (0 >A R < 0)
solution = ~· (~· (~· (~· (~· (~· (~· (~· (~· (- ∩/)) ■ (- (∩∣∣/∪∣ {0} {3}) ■ ~· (~· ↑↓))) ■ ↓↑ ■ ~· (- ///))
            ■ ↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· ↓↑)))))))
            ■ ↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· ↓↑)))))
            ■ ↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· (↓↑ ■ ~· ↓↑)))) ■ ↓↑))
            ■ {!!}

{-
R0⊗∣ : R {0} ⊗ ∣ ~ ∣ ⊗ R
R0⊗∣ = - ·∣ ■ - (/nR {0}) ■ ∣·

solution : puzzle ~ ∪ ⊗ R
solution = - ··· ■ ∩n~∩-n' ■ ~· ∩-2 ■ ~·· (··~ (- ·⊗· ■ ~⊗ /⁻¹/ ■ ⊗~ //⁻¹ ■ ⊗⊗) ■ ·∣∣∣∣)
           ■ ~·· (⊗∣·⊗∣ ■ ~⊗ (∣⊗·∣⊗ ■ ⊗~ (~· (- (⊗ε ■ ε⊗)) ■ ∩·R)))
           ■ ~· (~⊗ (- ∣⊗·∣⊗) ■ - ⊗∣·⊗∣ ■ ~· (-⊗⊗ ■ ⊗~ R0⊗∣ ■ ⊗⊗))
           ■ ··~ (~· (~⊗ (⊗~ (⊗ε ■ ε⊗))) ■ ·~ (- ⊗ε) ■ ⊗∩⊗·⊗∪⊗ ■ ∣∣·)
           ■ - ·⊗· ■ ~⊗ ∣∣· ■ ⊗~ ·ε
-}
